<?php

namespace Database\Seeders;

use App\Models\Vacancy;
use App\Models\Skill; // Импортируем модель Skill
use Illuminate\Database\Seeder;

class VacancySeeder extends Seeder
{
    public function run()
    {
        $vacancies = [
            [
                'user_id' => 1,
                'title' => 'PHP разработчик для стартапа',
                'description' => 'Ищем талантливого PHP разработчика для работы над инновационным проектом в стартапе. Вы будете участвовать в разработке новых функций, оптимизации существующего кода и обеспечении высокой производительности приложений. Опыт работы с Laravel будет преимуществом, а также знание принципов ООП и паттернов проектирования.',
                'city_id' => 1,
                'work_schedule_id' => 1,
                'work_type_id' => 1,
                'experience_id' => 3,
                'background_id' => 3,
                'salary' => 80000.00,
                'created_at' => now(),
                'updated_at' => now(),
            ],
            [
                'user_id' => 1,
                'title' => 'JavaScript разработчик для веб-приложений',
                'description' => 'Требуется JavaScript разработчик для создания интерактивных веб-приложений. Вы будете работать в команде над разработкой пользовательских интерфейсов, интеграцией с API и оптимизацией производительности. Знание React или Vue.js обязательно, а также опыт работы с RESTful API и Git.',
                'city_id' => 2,
                'work_schedule_id' => 2,
                'work_type_id' => 2,
                'experience_id' => 2,
                'background_id' => 3,
                'salary' => 70000.00,
                'created_at' => now(),
                'updated_at' => now(),
            ],
            [
                'user_id' => 1,
                'title' => 'Python разработчик для анализа данных',
                'description' => 'Ищем Python разработчика для работы с большими данными и машинным обучением. Вы будете заниматься разработкой алгоритмов, анализом данных и созданием отчетов. Опыт работы с библиотеками Pandas и NumPy приветствуется, а также знание SQL и основ статистики.',
                'city_id' => 3,
                'work_schedule_id' => 1,
                'work_type_id' => 1,
                'experience_id' => 4,
                'background_id' => 3,
                'salary' => 90000.00,
                'created_at' => now(),
                'updated_at' => now(),
            ],
            [
                'user_id' => 1,
                'title' => 'Java разработчик для корпоративных приложений',
                'description' => 'Требуется Java разработчик для разработки и поддержки корпоративных приложений. Вы будете работать над созданием новых функциональностей, оптимизацией кода и обеспечением безопасности приложений. Опыт работы с Spring Framework будет плюсом, а также знание принципов SOLID и паттернов проектирования.',
                'city_id' => 4,
                'work_schedule_id' => 2,
                'work_type_id' => 2,
                'experience_id' => 3,
                'background_id' => 3,
                'salary' => 85000.00,
                'created_at' => now(),
                'updated_at' => now(),
            ],
            [
                'user_id' => 1,
                'title' => 'C# разработчик для разработки игр',
                'description' => 'Ищем C# разработчика для работы над игровыми проектами. Вы будете заниматься разработкой игровых механик, оптимизацией производительности и созданием пользовательского интерфейса. Опыт работы с Unity будет большим преимуществом, а также знание основ 3D-графики.',
                'city_id' => 5,
                'work_schedule_id' => 1,
                'work_type_id' => 1,
                'experience_id' => 2,
                'background_id' => 3,
                'salary' => 80000.00,
                'created_at' => now(),
                'updated_at' => now(),
            ],
            [
                'user_id' => 1,
                'title' => 'Ruby разработчик для веб-приложений',
                'description' => 'Требуется Ruby разработчик для создания веб-приложений на Ruby on Rails. Вы будете заниматься разработкой новых функциональностей, оптимизацией кода и обеспечением безопасности приложений. Опыт работы с RESTful API и знание принципов MVC обязательно.',
                'city_id' => 6,
                'work_schedule_id' => 2,
                'work_type_id' => 2,
                'experience_id' => 3,
                'background_id' => 3,
                'salary' => 75000.00,
                'created_at' => now(),
                'updated_at' => now(),
            ],
            [
                'user_id' => 1,
                'title' => 'Frontend разработчик с опытом работы',
                'description' => 'Ищем Frontend разработчика для работы с React и Vue.js. Вы будете разрабатывать пользовательские интерфейсы, интегрировать с API и оптимизировать производительность приложений. Знание HTML, CSS и JavaScript обязательно, а также опыт работы с системами контроля версий.',
                'city_id' => 7,
                'work_schedule_id' => 1,
                'work_type_id' => 1,
                'experience_id' => 4,
                'background_id' => 3,
                'salary' => 72000.00,
                'created_at' => now(),
                'updated_at' => now(),
            ],
            [
                'user_id' => 1,
                'title' => 'Backend разработчик для API',
                'description' => 'Требуется Backend разработчик для создания и поддержки RESTful API. Вы будете разрабатывать серверную логику, интегрировать базы данных и обеспечивать безопасность приложений. Опыт работы с Node.js и Express будет плюсом, а также знание принципов проектирования API.',
                'city_id' => 8,
                'work_schedule_id' => 2,
                'work_type_id' => 2,
                'experience_id' => 3,
                'background_id' => 3,
                'salary' => 78000.00,
                'created_at' => now(),
                'updated_at' => now(),
            ],
            [
                'user_id' => 1,
                'title' => 'Full Stack разработчик',
                'description' => 'Ищем Full Stack разработчика с опытом работы как на фронтенде, так и на бэкенде. Вы будете разрабатывать и поддерживать веб-приложения, работать с базами данных и интегрировать API. Знание JavaScript, PHP и фреймворков обязательно.',
                'city_id' => 9,
                'work_schedule_id' => 1,
                'work_type_id' => 1,
                'experience_id' => 4,
                'background_id' => 3,
                'salary' => 85000.00,
                'created_at' => now(),
                'updated_at' => now(),
            ],
            [
                'user_id' => 1,
                'title' => 'DevOps инженер',
                'description' => 'Требуется DevOps инженер для автоматизации процессов развертывания и управления инфраструктурой. Вы будете работать с контейнерами, CI/CD и облачными решениями. Опыт работы с Docker, Kubernetes и облачными провайдерами обязателен.',
                'city_id' => 10,
                'work_schedule_id' => 2,
                'work_type_id' => 2,
                'experience_id' => 3,
                'background_id' => 3,
                'salary' => 90000.00,
                'created_at' => now(),
                'updated_at' => now(),
            ],
            [
                'user_id' => 2,
                'title' => 'Менеджер по продажам',
                'description' => 'Ищем активного менеджера по продажам для работы с клиентами. Вы будете отвечать за привлечение новых клиентов, ведение переговоров и заключение сделок. Опыт в продажах и отличные коммуникативные навыки приветствуются.',
                'city_id' => 1,
                'work_schedule_id' => 1,
                'work_type_id' => 1,
                'experience_id' => 2,
                'background_id' => 2,
                'salary' => 50000.00,
                'created_at' => now(),
                'updated_at' => now(),
            ],
            [
                'user_id' => 2,
                'title' => 'Специалист по маркетингу',
                'description' => 'Требуется специалист по маркетингу для разработки и реализации маркетинговых стратегий. Вы будете заниматься анализом рынка, планированием рекламных кампаний и взаимодействием с клиентами. Опыт работы в digital-маркетинге и знание SEO будут преимуществом.',
                'city_id' => 2,
                'work_schedule_id' => 2,
                'work_type_id' => 2,
                'experience_id' => 3,
                'background_id' => 2,
                'salary' => 60000.00,
                'created_at' => now(),
                'updated_at' => now(),
            ],
            [
                'user_id' => 2,
                'title' => 'HR-менеджер',
                'description' => 'Ищем HR-менеджера для работы с персоналом и подбора новых сотрудников. Вы будете заниматься проведением собеседований, оценкой кандидатов и развитием корпоративной культуры. Опыт работы в HR и знание трудового законодательства приветствуются.',
                'city_id' => 3,
                'work_schedule_id' => 1,
                'work_type_id' => 1,
                'experience_id' => 2,
                'background_id' => 2,
                'salary' => 55000.00,
                'created_at' => now(),
                'updated_at' => now(),
            ],
            [
                'user_id' => 2,
                'title' => 'Офис-менеджер',
                'description' => 'Требуется офис-менеджер для организации работы офиса и взаимодействия с клиентами. Вы будете отвечать за документооборот, координацию работы сотрудников и решение административных вопросов. Опыт работы в аналогичной должности будет плюсом.',
                'city_id' => 4,
                'work_schedule_id' => 2,
                'work_type_id' => 2,
                'experience_id' => 1,
                'background_id' => 1,
                'salary' => 40000.00,
                'created_at' => now(),
                'updated_at' => now(),
            ],
            [
                'user_id' => 2,
                'title' => 'Специалист по работе с клиентами',
                'description' => 'Ищем специалиста по работе с клиентами для поддержки и консультации клиентов по продуктам компании. Вы будете отвечать на запросы клиентов, решать их проблемы и обеспечивать высокий уровень сервиса. Опыт работы в клиентском обслуживании приветствуется.',
                'city_id' => 5,
                'work_schedule_id' => 1,
                'work_type_id' => 1,
                'experience_id' => 2,
                'background_id' => 2,
                'salary' => 45000.00,
                'created_at' => now(),
                'updated_at' => now(),
            ],
            [
                'user_id' => 2,
                'title' => 'Бухгалтер',
                'description' => 'Требуется бухгалтер для ведения учета и подготовки отчетности. Вы будете заниматься расчетами, составлением финансовых отчетов и контролем за движением денежных средств. Опыт работы в бухгалтерии и знание 1С будут преимуществом.',
                'city_id' => 6,
                'work_schedule_id' => 2,
                'work_type_id' => 2,
                'experience_id' => 3,
                'background_id' => 2,
                'salary' => 60000.00,
                'created_at' => now(),
                'updated_at' => now(),
            ],
            [
                'user_id' => 2,
                'title' => 'Клиентский менеджер',
                'description' => 'Ищем клиентского менеджера для работы с ключевыми клиентами и развития долгосрочных отношений. Вы будете отвечать за выполнение планов продаж, анализ потребностей клиентов и предложение оптимальных решений. Опыт работы в продажах будет плюсом.',
                'city_id' => 7,
                'work_schedule_id' => 1,
                'work_type_id' => 1,
                'experience_id' => 3,
                'background_id' => 2,
                'salary' => 65000.00,
                'created_at' => now(),
                'updated_at' => now(),
            ],
            [
                'user_id' => 2,
                'title' => 'Специалист по логистике',
                'description' => 'Требуется специалист по логистике для организации и контроля поставок товаров. Вы будете заниматься планированием маршрутов, взаимодействием с поставщиками и оптимизацией логистических процессов. Опыт работы в логистике и знание основ складского учета приветствуются.',
                'city_id' => 8,
                'work_schedule_id' => 2,
                'work_type_id' => 2,
                'experience_id' => 2,
                'background_id' => 2,
                'salary' => 55000.00,
                'created_at' => now(),
                'updated_at' => now(),
            ],
            [
                'user_id' => 2,
                'title' => 'Менеджер по продукту',
                'description' => 'Ищем менеджера по продукту для разработки и реализации стратегии продукта на рынке. Вы будете отвечать за анализ потребностей пользователей, планирование и координацию разработки. Опыт работы в управлении продуктом и знание методологий Agile будут преимуществом.',
                'city_id' => 9,
                'work_schedule_id' => 1,
                'work_type_id' => 1,
                'experience_id' => 4,
                'background_id' => 3,
                'salary' => 70000.00,
                'created_at' => now(),
                'updated_at' => now(),
            ],
            [
                'user_id' => 2,
                'title' => 'Аналитик данных',
                'description' => 'Требуется аналитик данных для анализа и интерпретации данных, а также подготовки отчетов. Вы будете работать с большими объемами данных, выявлять тренды и предоставлять рекомендации для бизнеса. Опыт работы с SQL и инструментами визуализации данных будет плюсом.',
                'city_id' => 10,
                'work_schedule_id' => 2,
                'work_type_id' => 2,
                'experience_id' => 3,
                'background_id' => 3,
                'salary' => 75000.00,
                'created_at' => now(),
                'updated_at' => now(),
            ],
        ];

        foreach ($vacancies as $vacancy) {
            $vacancies = Vacancy::create($vacancy);

            $skills = Skill::inRandomOrder()->take(rand(5, 18))->pluck('id');
            $vacancies->skills()->attach($skills);
        }
    }
}
